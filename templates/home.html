{% extends "base.html" %}

{% block content %}

	<section id="portfolio" style="margin-top:42px">
			<div class="container">
				<div class="row" >
						<div class="col-lg-12 text-center" style="margin:20px 0">
							<h3>WTFcsv tells you what the f*&% is going on with your CSV file</h3>
							<h5>Upload a CSV file, link to one on the web or paste in comma-separated values.</h5>
							<hr class="star-primary">
						</div>
					</div>
					
					<ul class="nav nav-tabs nav-justified">
					  <li role="presentation"><a id="tab-paste" href="#paste" data-toggle="tab"><span class="glyphicon glyphicon-link" aria-hidden="true"></span>Paste CSV text</a></li>
					  <li role="presentation"><a id="tab-upload-file" href="#upload-file" data-toggle="tab"><span class="glyphicon glyphicon-upload" aria-hidden="true"></span> Upload CSV</a></li>
					  <li role="presentation"><a id="tab-link-file" href="#link-file" data-toggle="tab"><span class="glyphicon glyphicon-link" aria-hidden="true"></span>Link to CSV</a></li>
					</ul>
					<div class="tab-content">
					  <div id="paste" class="tab-pane fade in active">
					  		<form action="from-text" method="POST">
						    <div class="form-group#results">
									<textarea class="form-control" rows="8" id="csvText" name="csvText">
name, shirt_color, siblings
Rahul, blue, 1
Catherine, red, 2
									</textarea>
							</div>
							<div>
								<button type="submit" class="btn btn-success btn-lg pull-right" style="margin-top:20px">Submit</button>
							</div>
							</form>
					  </div>
					  <div id="upload-file" class="tab-pane fade">
					  	<form action="from-file#results" enctype="multipart/form-data" method="POST">
					    <span class="btn btn-default btn btn-file">
									Choose .CSV File<input type="file" id="csvFile" name="csvFile">
								</span>
					    	<div>
								<button type="submit" class="btn btn-success btn-lg pull-right" style="margin-top:20px">Submit</button>
							</div>
						</form>
					  </div>
					  <div id="link-file" class="tab-pane fade">
					    <form action="from-url#results" method="POST">
					    	<div class="form-group">
							    
							    <input type="text" class="form-control" id="csvURL" name="csvURL" placeholder="Paste the URL to the CSV file">
							  </div>
					    	<div>
								<button type="submit" class="btn btn-success btn-lg pull-right" style="margin-top:20px">Submit</button>
							</div>
						</form>
					  </div>
					</div>
					
					<!--
					error 
					csvinfo
					<div class="row">
						<div class="col-lg-12 text-center">
							[ <a href="#" onclick="$('#advancedOptions').slideToggle();return false;">advanced options</a> ]
							<div id="advancedOptions" style="display:none">
								<div class="checkbox">
									<label>
										<input type="checkbox" checked name="headerRow"> First row is header row
										<span class="glyphicon glyphicon-question-sign" data-toggle="tooltip" data-placement="right" title="Check this if your CSV has a header row with column names. Uncheck this if there is no header row."></span>
									</label>
								</div>
								
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-12 text-center">
							<div>
								<button type="submit" class="btn btn-success btn-lg" style="margin-top:20px">Submit</button>
							</div>
						</div>
					</div>-->
					</form>
			</div>
	</section>

	{% if error %}
		<section id="results" class="results-error">
			<div class="container">
				<div class="row">
					<div class="col-lg-12 text-center">
						<h2>Results</h2>
						<hr class="star-primary">
					</div>
				</div>
				<div class="row">
					<div class="alert alert-danger" role="alert">{{ error }}</div>
				</div>
			</div>
		</section>
	{% endif %}

	{% if csv_info %}

		<section id="results">
			<div class="container">
				<div class="row">
					<div class="col-lg-12 text-center">
						<h2>Results</h2>
						<hr class="star-primary">
					</div>
				</div>
				<div class="row">
					{{ csv_info }}
				</div>
			</div>
		</section>

	{% endif %}

{% endblock %}

{% block page_scripts %}
<script type="text/javascript">
$(function(){
	$('#tab-{{tab}}').tab('show');
});
//Javascript
</script>
{% endblock %}